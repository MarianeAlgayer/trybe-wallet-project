(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{32:function(e,t,a){e.exports=a(50)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(18),c=a.n(l),i=a(21),o=a(7),s=a(13),u=a(29),d=a(30),m=a(3),p=a(16),h=a.n(p),b=a(19),f=function(){var e=Object(b.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://economia.awesomeapi.com.br/json/all",e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return t=e.sent,e.next=6,t.json();case 6:return delete(a=e.sent).USDT,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e){return{type:"LOGIN",email:e}},E=function(e){return{type:"SAVE_EXPENSE",expense:e}},g=function(e){return{type:"DELETE_EXPENSE",id:e}},j=function(){return function(e){return fetch("https://economia.awesomeapi.com.br/json/all").then((function(e){return e.json()})).then((function(t){return e((a=t,{type:"GET_CURRENCIES",currencies:Object.keys(a).filter((function(e){return"USDT"!==e}))}));var a}))}},y=function(e){return function(){var t=Object(b.a)(h.a.mark((function t(a){var n,r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f();case 2:n=t.sent,r=Object(m.a)(Object(m.a)({},e),{},{exchangeRates:n}),a(E(r));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O={email:""},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(m.a)(Object(m.a)({},e),{},{email:t.email});default:return e}},w=a(31),x={currencies:[],expenses:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_EXPENSE":return Object(m.a)(Object(m.a)({},e),{},{expenses:[].concat(Object(w.a)(e.expenses),[t.expense])});case"GET_CURRENCIES":return Object(m.a)(Object(m.a)({},e),{},{currencies:t.currencies});case"DELETE_EXPENSE":return Object(m.a)(Object(m.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.id}))});default:return e}},D=Object(s.combineReducers)({user:C,wallet:k}),S=Object(s.createStore)(D,Object(u.composeWithDevTools)(Object(s.applyMiddleware)(d.a))),N=a(2),T=a(15),R=a(9),B=a(10),A=a(12),F=a(11),I=function(e){var t=e.id,a=e.testId,n=e.label,l=e.type,c=e.value,i=e.name,o=e.onChange;return r.a.createElement("label",{htmlFor:t}," ",n," ",r.a.createElement("input",{id:t,"data-testid":a,type:l,value:c,name:i,onChange:o}))},M=function(e){var t=e.onClick,a=e.label,n=e.isBtnDisabled;return r.a.createElement("button",{type:"button",disabled:n,onClick:t}," ",a," ")};M.defaultProps={isBtnDisabled:!1};var U=M,V=(a(42),function(e){Object(A.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",isBtnDisabled:!0},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(T.a)({},n,r),e.validateForm)},e.handleClick=function(){var t=e.props,a=t.dispatch,n=t.history,r=e.state.email;a(v(r)),n.push("/carteira")},e.validateForm=function(){var t=e.state,a=t.email,n=t.password,r=/^[a-z0-9.]+@[a-z0-9]+\.[a-z]+(\.[a-z]+)?$/i.test(a),l=n.length>=6;return r&&l?e.setState({isBtnDisabled:!1}):e.setState({isBtnDisabled:!0})},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isBtnDisabled;return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{className:"login-form"},r.a.createElement("h1",null,"Trybe Wallet"),r.a.createElement(I,{id:"email","data-testid":"email-input",label:"Email:",type:"email",value:t,name:"email",onChange:this.handleChange}),r.a.createElement(I,{id:"password","data-testid":"password-input",label:"Senha:",type:"password",value:a,name:"password",onChange:this.handleChange}),r.a.createElement(U,{label:"ENTRAR",isBtnDisabled:n,onClick:this.handleClick})))}}]),a}(r.a.Component)),z=Object(o.b)()(V),L=function(e){Object(A.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).getTotalValue=function(){var t=e.props.expenses;return t.length>0?t.map((function(e){return e.value*e.exchangeRates[e.currency].ask})).reduce((function(e,t){return e+t})).toFixed(2):(0).toFixed(2)},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this.props.email;return r.a.createElement("header",null,r.a.createElement("h1",null,"Trybe Wallet"),r.a.createElement("div",null,r.a.createElement("p",{"data-testid":"email-field"},"E-mail: ".concat(e)),r.a.createElement("p",{"data-testid":"total-field"},"R$ ".concat(this.getTotalValue())),r.a.createElement("p",{"data-testid":"header-currency-field"},"BRL")))}}]),a}(r.a.Component),_=Object(o.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}))(L),P=["Descri\xe7\xe3o","Tag","M\xe9todo de pagamento","Valor","Moeda","C\xe2mbio utilizado","Valor convertido","Moeda de convers\xe3o","Excluir"],W=["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"],G=["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"],X=function(e){var t=e.id,a=e.testId,n=e.label,l=e.value,c=e.name,i=e.onChange,o=e.options;return r.a.createElement("label",{htmlFor:t}," ",n," ",r.a.createElement("select",{id:t,"data-testid":a,value:l,name:c,onChange:i},o.map((function(e){return r.a.createElement("option",{key:e},e)}))))},$=function(e){Object(A.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={value:0,currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(T.a)({},n,r))},e.handleClick=function(){var t=e.props,a=t.expenses,n=t.dispatch,r=Object(m.a)({id:a.length},e.state);n(y(r)),e.setState({value:0,currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""})},e}return Object(B.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(j())}},{key:"render",value:function(){var e=this.state,t=e.value,a=e.currency,n=e.method,l=e.tag,c=e.description,i=this.props.currencies;return r.a.createElement("form",{className:"wallet-form"},r.a.createElement(I,{id:"value","data-testid":"value-input",label:"Valor:",type:"number",value:t,name:"value",onChange:this.handleChange}),r.a.createElement(X,{id:"currency","data-testid":"currency-input",label:"Moeda:",value:a,name:"currency",onChange:this.handleChange,options:i.filter((function(e){return"USDT"!==e}))}),r.a.createElement(X,{id:"method","data-testid":"method-input",label:"M\xe9todo de pagamento:",value:n,name:"method",onChange:this.handleChange,options:G}),r.a.createElement(X,{id:"tag","data-testid":"tag-input",label:"Categoria:",value:l,name:"tag",onChange:this.handleChange,options:W}),r.a.createElement(I,{id:"description","data-testid":"description-input",label:"Descri\xe7\xe3o:",type:"text",value:c,name:"description",onChange:this.handleChange}),r.a.createElement(U,{label:"Adicionar despesa",onClick:this.handleClick}))}}]),a}(r.a.Component),J=Object(o.b)((function(e){return{expenses:e.wallet.expenses,currencies:e.wallet.currencies}}))($),q=function(e){Object(A.a)(a,e);var t=Object(F.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleDeleteBtn=function(t){(0,e.props.dispatch)(g(t))},e}return Object(B.a)(a,[{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement("table",{className:"wallet-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,P.map((function(e){return r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,t.map((function(t){var a=t.id,n=t.description,l=t.tag,c=t.method,i=t.value,o=t.currency,s=t.exchangeRates,u=s[o].name,d=Number(s[o].ask).toFixed(2),m=Number(i*s[o].ask).toFixed(2);return r.a.createElement("tr",{key:a},r.a.createElement("td",null,n),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,Number(i).toFixed(2)),r.a.createElement("td",null,u),r.a.createElement("td",null,d),r.a.createElement("td",null,m),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement(U,{label:"Excluir",onClick:function(){return e.handleDeleteBtn(a)}})))}))))}}]),a}(r.a.Component),H=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))(q),K=(a(43),function(e){Object(A.a)(a,e);var t=Object(F.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(B.a)(a,[{key:"render",value:function(){var e=this.props.expenses;return r.a.createElement("div",{className:"wallet-container"},r.a.createElement(_,null),r.a.createElement(J,null),e.length>0&&r.a.createElement(H,null))}}]),a}(r.a.Component)),Q=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}))(K);a(44);var Y=function(){return r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:"/",component:z}),r.a.createElement(N.a,{path:"/carteira",component:Q}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,{store:S},r.a.createElement(i.a,null,r.a.createElement(Y,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.54b521dc.chunk.js.map